# PortfolioBot - Калькулятор Портфеля Активов

Этот проект представляет собой C++ приложение для расчета суммарной стоимости портфеля активов, интегрированное с внешним API для получения актуальных цен. Проект разработан с модульной архитектурой, что облегчает его расширение и поддержку.
## Оглавление

* [Возможности](#возможности)
  
* [Структура Проекта](#структура-проекта)
  
* [Предварительные требования](#предварительные-требования)
  
* [Установка и Сборка](#установка-и-сборка)
  
* [Использование](#использование)

## Возможности

- Получение актуальных цен активов с использованием внешнего API (Twelvedata).
- Расчет общей стоимости портфеля, включая различные валюты и типы активов (например, криптовалюты, фиатные деньги, золото).
- Гибкая конфигурация через JSON файлы.
- Модульная структура для легкой модификации и расширения (например, интеграции с Telegram ботом).
- Telegram бот, для удобного доступа с любого устройства и общего доступа

## Структура Проекта
```
portfolio-bot/
├── cli-bot/
│   ├── build/                 #Сюда будут складываться скомпилированные файлы (создается CMake)
│   ├── data/                  #Для файлов данных портфеля (например, portfolio.json)
│   │   └── portfolio.json
│   ├── config/                #Для конфигурационных файлов (API ключ к twlvedata)
│   │   └── config.json
│   ├── src/                   #Исходный код (.cpp файлы)
│   │   ├── api_client.cpp
│   │   ├── portfolio_calculator.cpp
│   │   └── main.cpp
│   ├── include/               #Заголовочные файлы (.h, .hpp)
│   │   ├── api_client.hpp
│   │   └── portfolio_calculator.hpp
│   ├── vendor/                #Внешние библиотеки (nlohmann/json)
│   │   └── nlohmann/
│   │      └── json.hpp
│   └── CMakeLists.txt         #Файл для сборки сервиса
├── manage-bot/
│   ├── build/                 #Сюда будут складываться скомпилированные файлы (создается CMake)
│   ├── config/                #Для конфигурационных файлов (API ключ к telegram боту)
│   │   └── config.json
│   ├── src/                   #Исходный код (.cpp файлы)
│   │   ├── cli_manage.cpp
│   │   ├── dir_changer.cpp
│   │   ├── telegram_manage.cpp
│   │   └── main.cpp
│   ├── include/               #Заголовочные файлы (.h, .hpp)
│   │   ├── cli_manage.hpp
│   │   ├── dir_changer.hpp
│   │   └── telegram_manage.hpp
│   ├── vendor/                #Внешние библиотеки (nlohmann/json)
│   │   └── nlohmann/
│   │       └── json.hpp
│   └── CMakeLists.txt         #Файл для сборки сервиса
└── script.sh                  #Файл сборки проекта, проверки установленных зависимостей и создания build директорий
```
## Предварительные требования

**Для сборки и запуска проекта вам понадобится:**

* GCC
* CMake: Версии 3.10 или выше.
* Библиотека cURL
* API ключ Twelvedata
* API ключ Telegram бота
* Boost 1.8 (минимальная)

## Установка и Сборка

2. **Клонируйте репозиторий:**

```bash
git clone https://github.com/echotimur/portfolio-bot.git
cd portfolio-bot
```

2. **Создайте файлы конфигурации:**

* Создайте файл portfolio-bot/cli-bot/config/config.json:
```JSON
        {
            "twelvedata_apikey": "ВАШ_API_КЛЮЧ_TWELVEDATA",
        }
```

* Создайте файл portfolio-bot/manage-bot/config/config.json:
```JSON
        {
            "telegram_apikey": "ВАШ_API_КЛЮЧ_TWELVEDATA",
        }
```

* Создайте файл portfolio-bot/cli-bot/data/portfolio.json с данными вашего портфеля. Пример:
```JSON
{
    "01.01.2000": [
        {
            "Name1": [
                {
                    "RUB": "0"
                }
            ],
            "Name2": [
                {
                    "USD/RUB": "0"
                }
            ],
            "Name3": [
                {
                    "XAU/USD": "0"
                }
            ]
        }
    ],
    "02.01.2000": [
        {
            "Name4": [
                {
                    "RUB": "-1"
                }
            ]
        }
    ]
}
```
3. **Установите nlohmann/json:**
    Поместите файл `json.hpp` из библиотеки [nlohmann/json](https://github.com/azadkuh/nlohmann_json_release) в директорию `vendor/nlohmann/`.

4. Сборка проекта с помощью Bash скрипта:
``` Bash
chmod +x script.sh
./script.sh
```
## Использование

После успешной сборки, исполняемый файл будет находиться в директории `portfolio-bot/manage-bot/build/`. Запустите его с одним из флагов:

Для консольного вывода
```
./manage-bot --cli
```

Для запуска telegram бота:
```
./manage-bot --tg
```

Для получения справки:
```
./manage-bot --help
```

Программа выведет текущую стоимость вашего портфеля.
